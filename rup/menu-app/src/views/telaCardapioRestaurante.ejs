<%- include('partials/header.ejs') %>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script>
  function deleteItem(item) {
    $.ajax({
            url: '/restaurante/cardapio/delete',
            type: 'post',
            dataType: 'json',
            contentType: 'application/json',
            data: JSON.stringify({ "nomeItem": item }),
            complete: function (res) {
              window.location.reload();
            }
          })
  }
</script>
<main>
  <div class="ui segment">
    <h1>Cardapio</h1>
    <div>
      <% for(let i of itens){ %>
        <div class="ui segment" style="background-color: rgb(242, 242, 242); border-radius: 8px; padding: 8px; margin: 8px">
          <h2>
            <%=i.nome%>
          </h2>
          <p>
            <%=i.descricao%>
          </p>
          <p>
            R$<%=i.preco%>
          </p>
          <% if(i.disponivel){ %>
            <p style="color: rgb(79, 103, 43); background-color: rgb(232, 255, 199);">
              Disponível
            </p>
          <% } else {%>
            <p style="color: rgb(103, 43, 43); background-color: rgb(250, 190, 190);">
              Indisponível
            </p>
          <% } %>
          <button onclick="deleteItem('<%=i.nome%>')">
            remover
          </button>
        </div>
      <% } %>
    </div>
  </div>
</main>
<footer >
    <%- include('partials/footer.ejs') %>
</footer>
</body>
</html>